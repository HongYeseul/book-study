## 객체, 그리고 소프트웨어 나라

상태를 이용하면 과거에 얽매이지 않고 현재를 기반으로 객체의 행동 방식을 이해할 수 있다.

객체의 상태를 구성하는 모든 특징을 통틀어 객체의 프로퍼티(property)라고 한다.<br>
예를 들어 앨리스의 경우 키, 위치, 음료가 앨리스의 프로퍼티가 된다.

일반적으로 프로퍼티는 변경되지 않고 고정되기 때문에 '정적'이다.<br>
반면 프로퍼티 값(property value)은 시간이 흐름에 따라 변경되기 때문에 '동적'이다.

객체는 다른 객체의 상태에 직접적으로 접근할 수도, 상태를 변경할 수도 없다.

객체는 스스로의 행동에 의해서만 상태가 변경되는 것을 보장함으로써 객체의 자율성을 유지한다.

### 상태와 행동
객체의 상태를 변경하는 것은 객체의 자발적인 행동뿐이다.

객체가 취하는 행동은 객체 자신의 상태를 변경시킨다. 이는 부수 효과(side effect)를 초래한다는 것을 의미한다.

상태와 행동 사이에는 다음과 같은 관계가 있다.

- 객체의 행동은 상태에 영향을 받는다.
- 객체의 행동은 상태를 변경시킨다.

객체의 행동은 이 두가지 관점의 부수 효과를 명확하게 서술해야 한다.

- 객체 자신의 상태 변경
- 행동 내에서 협력하는 다른 객체에 대한 메시지 전송

모든 객체는 자신의 상태를 스스로 관리하는 자율적인 존재이므로 다른 객체에게 상태가 바뀔 것을 믿고 요청을 전달할 뿐이다.

### 식별자
객체 서로를 구별할 수있는 특정한 프로퍼티를 식별자라고 한다.

상태를 이용해 두 값이 같은지 판단할 수 있는 성질을 `동등성`이라고 한다.<br>
상태를 이용해 동등성을 판단할 수 있는 이유는 값의 상태가 변하지 않기 때문이다.

두 객체의 상태가 다르더라도 식별자가 같다면 두 객체를 같은 객체로 판단할 수 있으며, 식별자를 기반으로 객체가 같은지를 판단할 수 있는 성질을 `동일성`이라고 한다.

- 객체는 상태를 가지며 상태는 변경 가능하다.
- 객체의 상태를 변경시키는 것은 객체의 행동이다.
  - 행동의 결과는 상태에 의존적이며 상태를 이용해 서술할 수 있다.
  - 행동의 순서가 실행 결과에 영향을 미친다.
- 객체는 어떤 상태에 있더라도 유일하게 식별 가능하다.

## 행동이 상태를 결정한다
상태를 먼저 결정하고 행동을 나중에 결정하는 방법은 설계에 나쁜 영향을 끼친다.

1. 상태를 먼저 결정할 경우 캡슐화가 저해된다.
   - 상태에 초점을 맞출 경우 상태가 객체 내부로 깔끔하게 캡슐화되지 못하고 공용 인터페이스에 그대로 노출돼버릴 확률이 높다.
2. 객체를 협력자가 아닌 고립된 섬으로 만든다.
    - 객체가 필요한 이유는 애플리케이션의 문맥 내에서 다른 객체와 협력하기 위해서다. 불행하게도 상태를 먼저 고려하는 방식은 협력이라는 문맥에서 멀리 벗어난 객체를 설계함으로써 자연스럽게 협력에 적합하지 못하는 객체를 창조하게 된다.
3. 객체의 재사용성이 저하된다.
    - 객체의 재사용성은 다양한 협력에 참여할 수 있는 능력에서 나온다. 상태에 초점을 맞춘 객체는 다양한 협력에 참여하기 어렵기 때문에 재사용성이 저하될 수밖에 없다.

객체지향 설계는 애플리케이션에 필요한 `협력`을 생각하고 협력에 참여하는 데 필요한 `행동`을 생각한 후 행동을 수행할 `객체`를 선택하는 방식으로 수행된다.

협력 안에서 객체의 행동은 결국 객체가 협력에 참여하면서 완수해야 하는 책임을 의미한다. 따라서 어떤 `책임`이 필요한가를 결정하는 과정이 전체 설계를 주도해야 한다. 이는 `책임-주도 설계(Responsibility-Driven Design, RDD)`라는 방식이며 이로써 응집도가 높고 재사용 가능한 객체를 만들 수 있게 한다.

## 은유와 객체
소프트웨어 객체에 대한 현실 객체의 은유를 효과적으로 사용할 경우 표현적 차이를 줄일 수 있으며, 이해하기 쉽고 유지보수가 용이한 소프트웨어를 만들 수 있다.

---

<div align="center">
  <a href="https://github.com/HongYeseul/book-study/blob/main/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%EC%9D%98-%EC%82%AC%EC%8B%A4%EA%B3%BC-%EC%98%A4%ED%95%B4/1%20-%20%ED%98%91%EB%A0%A5%ED%95%98%EB%8A%94%20%EA%B0%9D%EC%B2%B4%EB%93%A4%EC%9D%98%20%EA%B3%B5%EB%8F%99%EC%B2%B4.md">
    1. 협력하는 객체들의 공동체
  </a>
  ≪ 2. 이상한 나라의 객체 ≫
  <a href="https://github.com/HongYeseul/book-study/blob/main/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%EC%9D%98-%EC%82%AC%EC%8B%A4%EA%B3%BC-%EC%98%A4%ED%95%B4/3%20-%20%ED%83%80%EC%9E%85%EA%B3%BC%20%EC%B6%94%EC%83%81%ED%99%94.md">
    3. 타입과 추상화
  </a>
</div>