# 1장. 

# 네트워크 구성 요소

## 네트워크를 구성하는 하드웨어 요소

하나 이상의 허브로 LAN을 구성하고, LAN 끼리 연결할 때는 라우터를 이용한다.

### 네트워크에 사용되는 주요 장치 및 도구

- 라우터
  - 스위치로 묶인 네트워크끼리 연결하는 장치다. 세그먼트 내부 통신과 외부 통신의 교통정리(라우팅)을 한다.
- 게이트웨이
  - 네트워크에 연결하는 점속점이다. 같은 프로토콜 내부에서 네트워크나 세그먼트 경계에 설치되어 패킷 출입을 제어한다. 특정 기술을 가리키는 용어는 아니고, 라우터나 서버 등 네트워크 장치라면 게이트웨이로 정의할 수 있다.

# 2장. 데이터를 주고받는 원리를 알아보자

## 주요 프로토콜

| 프로토콜 | 개요 및 용도 |
| ------ | --------- |
| IEEE 802.3 | IEEE가 규정하는 이더넷 규격의 프로토콜. 랜 케이블 등에 사용 |
| IEEE 802.11 | IEEE가 규정하는 무선 LAN 규격의 프로토콜. wifi로 보급 돼 있다. |
| IP(InternetProtocol) | 여러 네트워크를 연결하는 프로토콜. 인터넷을 구성하고 있다.|
| ARP(Address Resolution Protocol) | IP 주소에서 각 기기가 가지고 있는 MAC 주소를 알아내는 프로토콜|
| TCP(Transmission Control Protocol) | 인터넷 등에서 상위 계층과 신뢰성을 높여 통신하는 프로토콜|
|UDP(User Datagram Protocol) | 인터넷 등에서 상위 계층과 속도와 편의성을 우선하여 통신하는 프로토콜|
|SMTP(Simple Mail Transfer Protocol) | 이메일 송신 프로토콜|
|HTTP(HyperText Transfer Protocol) | 웹 브라우저와 웹 서버 간 통신 프로토콜 |
| DNS(Domain Name System) | DNS 서버에 IP 주소를 문의해서 도메인 이름을 IP 주소로 변환하는 프로토콜 |

## 네트워크 모델

OSI 참조 모델은 7계층으로 나뉘어 있으며, 프로토콜을 계층 구조로 만든 계념이다. 프로토콜을 계층 구조로 만들면, 애플리케이션은 연결되는 컴퓨터나 케이블의 차이를 처리할 필요가 없어 장비나 소프트웨어 개발이 용이해진다.

TCP/IP 모델은 4계층으로 나뉘어 있으며, 인터넷을 기준으로 만든 개념이다. 

OSI 참조 모델의 각 계층별 주요 프로토콜 및 규격
| 계층 | 명칭 | 주요 프로토콜과 규격 |
|:---:|:---:| -------------- |
| 7 | 응용 계층 | SMTP, POP, HTTP, DNS, FTP 등
| 6 | 표현 계층 | SMTP, 텔넷, FTP 등
| 5 | 세션 계층 | TLS 등
| 4 | 전송 계층 | TCP, UDP 등
| 3 | 네트워크 계층 | IP, ARP, RARP, ICMP 등
| 2 | 데이터 링크 계층 | PPP(다이얼업 연결), IEEE 802.3(이더넷), IEEE 802.11(무선 LAN) 등
| 1 | 물리 계층 | RS-232C, EIA-422(트위스트 페어 케이블), EIA 카테고리(LAN 케이블), 광섬유 등

## MAC 주소의 체계

벤더 코드 + 노드 번호

MAC 주소에서 상위 3바이트는 벤더 코드라고 하며, 네트워크 장비 제조사를 식별하는 부호

대기업은 기업 규모나 생산 규모에 따라 벤더 코드가 할당되는데, 예를 들어 IBM이나 DELL 같은 거대 벤더는 많은 기업을 흡수 및 합병함으로써 흡수된 벤더의 벤더 코드가 있다.

## 인프라스트럭처 모드와 애드혹 모드

- 인프라스트럭처 모드
    - 액세스 포인트(와이파이 랜기기 등)를 이용하여 여러 장치를 연결하고, 액세스 포인트가 세그먼트 내 통신을 제어한다.
    - 유선 LAN에서는 케이블로 연결하지만, 무선 LAN에서는 전파가 연결 매체(미디어)가 된다.
- 애드혹 모드
    - 액세스 포인트를 거치지 않고, 장치끼리 직접 무선 링크 기능을 사용해서 통신한다.

## 22. DHCP

LAN 내 장치에 IP 주소를 자동으로 할당하는 프로토콜

DHCP 서버는 클라이언트의 요청에 따라 관리하는 IP 주소 중 적절한 것을 할당한다. 클라이언트는 할당받은 정보로 자신의 설정 정보를 업데이트 한다.

### DBCP 서버가 IP 주소를 할당하는 절차

1. 클라이언트가 브로드캐스트로 DHCP 서버를 찾는 메시지를 보낸다.
2. DHCP 서버는 메시지를 받으면 자신이 할당할 수 있다고 회신한다.
3. 클라이언트는 응답한 DHCP 서버에 IP 주소를 요청한다.
4. DHCP 서버가 필요한 정보를 발행한다.

## 23. NAT/NAPT

프라이빗 IP 주소는 인터넷에서 사용할 수 없기 때문에 LAN 내부의 컴퓨터가 인터넷에 액세스 하려면 NAT 또는 NAPT를 사용해서 IP 주소를 변환해야 한다.

NAT에서는 프라이빗 IP 주소와 일대일 대응 변환표를 만들어 글로벌 IP 주소를 할당해서 통신하게 된다. 하지만 가지고 있는 글로벌 IP 주소가 비교적 적기 때문에 포트 번호까지 이용해서 효율적으로 사용하는 방법이 NAPT이다.

NAPT는 IP 주소 변환표 외에 TCP/UDP의 출발지 포트 번호도 사용하는데, 같은 글로벌 IP라도 프라이빗 IP 주소마다 다른 포트 번호를 할당하면 응답을 구별할 수 있다.

## 24. 라우팅

라우팅은 경로를 제어하는 기능인데, 두 가지 종류가 있다.

### IGP

- AS 내에서 라우팅 정보를 교환하는 프로토콜
- 주요 IGP 프로토콜
  - RIP (Routing Information Protocol)
    - 거리 벡터 라우팅 프로토콜로, 홉 수를 기준으로 경로를 결정합니다. 최대 홉 수는 15입니다.
  - OSPF (Open Shortest Path First)
    - 링크 상태 라우팅 프로토콜로, 링크의 상태 정보를 사용하여 최단 경로를 계산합니다. 다익스트라 알고리즘을 사용합니다.
  - EIGRP (Enhanced Interior Gateway Routing Protocol)
    - Cisco에서 개발한 하이브리드 라우팅 프로토콜로, 거리 벡터와 링크 상태의 장점을 결합합니다.
- 거리 벡터, 링크 상태 등의 알고리즘 사용


### EGP

- 서로 다른 자율 시스템(AS) 간에 라우팅 정보를 교환하는 프로토콜
- 주요 EGP 프로토콜
  - BGP (Border Gateway Protocol)
    - 가장 널리 사용되는 EGP로, 경로 벡터 라우팅 프로토콜입니다. 정책 기반 라우팅을 지원하며, 인터넷에서 AS 간의 경로를 결정하는 데 사용됩니다.
- 경로 벡터 알고리즘 사용

## 25. 기본 게이트웨이

라우터는 라우팅 테이블에 따라 다른 라우터로 패킷을 전달하는데, 어디로 보낼지 알 수 없는 패킷이 도착했을 때 자신이 판단할 수 없는 IP 주소의 패킷을 기본으로 전송할 곳을 지정하는 것이다.


# 3장. 네트워크 종류와 구성을 알아보자

## 31. IEEE 802.x 규격

- IEEE 802.3: 이더넷
- IEEE 802.11: 무선 LAN

## 32. WAN

LAN보다 넓은 범위를 연결하는 네트워크

### LAN과 WAN의 차이점

LAN에도 '광역 LAN'이라고 하는 서비스가 있는데, LAN의 이더넷을 이용하면서 중간에 게이트웨이나 다른 네트워크 프로토콜을 끼워 원거리 거점을 이어주는 서비스로, 네트워크는 LAN이다.(논리적인 로컬 영역)

기업의 LAN 내에서도 WAN이라는 용어가 사용되기도 하는데, 여러 세그먼트로 LAN을 구성할 때 장치를 집선하는 쪽이 LAN, 다른 라우터나 상위 라우터에 연결하는 쪽이 WAN이 된다. 이 때 WAN은 LAN의 바깥이라는 의미이다.

즉, LAN과 WAN의 차이는 '로컬'이 나타내는 범위에 따라 다르며, 그 네트워크의 안쪽이냐 바깥쪽이냐의 차이이다.

## 33. VLAN

여러 스위치로 세그먼트를 구성할 때는 VLAN이라는 기술을 사용한다. 

- 물리적인 네트워크 인프라 내에서 논리적으로 분리된 네트워크 세그먼트를 만드는 기술이다.
- VLAN을 사용하면 하나의 물리적 네트워크 장비(예: 스위치)를 통해 여러 개의 서로 다른 네트워크를 생성하고 관리할 수 있다.

## 34. SDN(Software Defined Network)

- 네트워크를 효율적이고 유연하게 관리하기 위해 제어 평면(Control Plane)과 데이터 평면(Data Plane)을 분리하는 네트워크 아키텍처

SDN에서는 전용 스위치로 각 장치를 하나의 LAN으로 모으고, 네트워크상의 장치를 연결하는 기능(하드웨어)과 세그먼트나 라우팅을 관리 및 제어하는 기능(소프트웨어)을 분리하여 설정 정보와 네트워크 제어를 관리 부분(컨트롤 플레인)에 집중한다. 각 장치는 전용 스위치로 연결(데이터 플레인)되어 있으면, 상세한 구성이나 제어 등은 컨트롤 플레인에서 할 수 있다.

- 주요 개념
  - 제어 평면(Control Plane): 네트워크 트래픽의 경로를 결정하는 역할을 합니다. SDN에서는 이 제어 기능을 중앙 집중식 컨트롤러가 담당합니다.
  - 데이터 평면(Data Plane): 실제 데이터 트래픽을 전달하는 역할을 합니다. 이는 네트워크 장치(스위치, 라우터 등)에 위치합니다.
  - SDN 컨트롤러: 중앙 집중식 제어 장치로, 네트워크의 모든 제어 기능을 담당합니다. 네트워크 관리자나 애플리케이션은 컨트롤러를 통해 네트워크를 프로그래밍하고 관리합니다.
- SDN의 주요 특징
  - 중앙 집중식 관리: 네트워크 트래픽의 제어가 중앙 컨트롤러에서 이루어져, 일관된 정책 적용과 관리가 가능합니다.
  - 프로그램 가능성: 네트워크 동작을 소프트웨어로 프로그래밍할 수 있어, 유연하고 신속한 네트워크 구성 변경이 가능합니다.
  - 유연성 및 확장성: 네트워크 자원의 동적 할당과 관리가 가능하여, 트래픽 변화에 유연하게 대응할 수 있습니다.
  - 자동화: 네트워크 구성 및 관리를 자동화할 수 있어 운영 효율성을 높이고, 오류를 줄일 수 있습니다.
- SDN의 구성 요소
  - SDN 컨트롤러: 네트워크의 두뇌 역할을 하며, 네트워크 정책을 관리하고 제어 명령을 네트워크 장치에 전달합니다. 예: OpenDaylight, ONOS.
  - 남향 API(Southbound API): SDN 컨트롤러와 네트워크 장치 간의 통신을 담당합니다. 예: OpenFlow 프로토콜.
  - 북향 API(Northbound API): SDN 컨트롤러와 애플리케이션 간의 통신을 담당합니다. 이를 통해 네트워크 관리자나 애플리케이션은 네트워크를 제어할 수 있습니다.
  - 네트워크 장치: 스위치, 라우터 등 실제 데이터 트래픽을 처리하는 장치로, SDN 컨트롤러의 명령을 실행합니다.

# 4장. 인터넷 구조를 알아보자

## 46. 텔넷

서버에 원격 로그인하는 프로토콜이다. 하지만 패킷을 암호화하는 기능이 없기 때문에 현재는 텔넷을 사용하지 않고 암호화 통신이 가능한 SSH를 사용한다.

## 48. FTP

파일을 송수신하는 프로토콜이다. 텔넷과 마찬가지로 로그인할 때 암호화되지 않아 현재는 SCP(Secure Copy Protocol)나 SFTP(SSH File Transfer Protocol)처럼 암호화 통신이 가능한 프로토콜과 이를 지원하는 서버 또는 클라이언트 프로그램으로 대체되고 있다.

- TCP20: 데이터 전송
  - Active Mode: 데이터 모드로 사용할 때
    - 21번으로 제어하고, 20으로 파일 전송
  - Passive Mode:임의 포트에 접속해서 파일을 전송할 때
- TCP21: Control Port, 세션 관리

## 49. NTP(Network Time Protocol)

호스트 간에 시간을 동기화하는 프로토콜